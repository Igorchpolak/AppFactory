---
import Article from "./Article.astro";
import { getPostsArray } from "../scripts/getPostsArray.js";
import { getPostsArrayFromCategory } from "../scripts/getPostsFromCategory";

type propertys = {
  slug: string;
  photoUrl: string;
  title: string;
  content: string;
};

const {categoryId} =Astro.props;


if(categoryId){
  var items = await getPostsArrayFromCategory(categoryId,"http://whellworks.local/");
}else{
  var items = await getPostsArray("http://whellworks.local/");
}
---
<body>
  <div class="container mx-auto my-10 w-full flex justify-center flex-wrap gap-10">
    {
      items.map((item: propertys) => (
        <Article
          slug ={item.slug}
          photoUrl ={item.photoUrl}
          title={item.title}
          content={item.content}
        />
      ))
    }
  </div>
</body>

